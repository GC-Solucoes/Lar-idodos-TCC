<body>

  <div class="jumbotron jumbotron-fluid">
    <!-- <input type="button"  *ngIf="!user.id" value="Editar Usuario" [routerLink]="['editar', user.id]"
    class="btn btn-outline-dark float-right w-25" /> -->

    <div class="container">

      <h3 class="display-8" *ngIf="user.id"> Editar usuário</h3>
      <h3 class="display-8" *ngIf="!user.id"> Novo usuário</h3>

      <form  (ngSubmit)="onSubmit()" [formGroup]="usuarioForm" class="mt-4">



        <div class="form-group" [ngClass]="aplicaCssErro('username')" >

          <label for="nome" class="mb-0">Nome</label>

          <input type="text" id="nome" formControlName="username" [(ngModel)]="user.username"  class="form-control"
             required>


          <app-campo-control-error
            [mostrarErro]="verificaValidTouched('username')"
             msgErro="Nome é Obrigatório">
          </app-campo-control-error>
          <!-- <app-campo-control-error
            [mostrarErro]="verificaUsernameInvalido()"
             msgErro="O Nome deve Conter mais de 5 caracteres">
          </app-campo-control-error> -->

        </div>




        <div class="form-group"  [ngClass]="aplicaCssErro('email')">

          <label for="email" class="mb-0">Email</label>

          <input type="email" placeholder="nome@email.com" id="email" formControlName="email" [(ngModel)]="user.email" autocomplete="off"  class="form-control" value=""
               required>


          <app-campo-control-error
          [mostrarErro]="verificaValidTouched('email')"
           msgErro="Email é Obrigatório">
        </app-campo-control-error>
        <app-campo-control-error
        [mostrarErro]="verificaEmailInvalido()"
         msgErro="Email Inválido">
      </app-campo-control-error>

        </div>


        <div class="form-group"   [ngClass]="aplicaCssErro('password')">

          <label for="senha" class="mb-0">Senha</label>

          <input formControlName="password" type="password" [(ngModel)]="user.password"  class="form-control"

                     placeholder="Nova senha"
            autocomplete="off" required
            >


            <app-campo-control-error
            [mostrarErro]="verificaValidTouched('password')"
             msgErro="Senha é Obrigatória e deve conter 1 caractere especial, 1 letra maiuscula e no minimo 8 digitos">
          </app-campo-control-error>

            <app-password-strength [passwordToCheck]="usuarioForm.value.password"></app-password-strength>
        </div>

        <br />

        <div class="form-group"   [ngClass]="aplicaCssErro('confirmarPassword')">

          <label for="confirmarPassword" class="mb-0">Verificar Senha</label>

          <input formControlName="confirmarPassword" type="password" [(ngModel)]="user.confirmarPassword"  class="form-control"

                     placeholder="Confirmar Senha"
            autocomplete="off" required
            >


            <app-campo-control-error
            [mostrarErro]="usuarioForm.get('confirmarPassword').hasError('equalsTo')"
             msgErro="As Senhas não São Iguais">
          </app-campo-control-error>

            <!-- <app-password-strength [passwordToCheck]="usuarioForm.value.confirmarPassword"></app-password-strength> -->
        </div>

      <!-- <div class="input-group mb-4">
          <div class="input-group-prepend">
              <span class="input-group-text"><i class="fa fa-lock"></i></span>
          </div>
          <input formControlName="confirmPassword"   type="password" class="form-control"
              placeholder="Confirmar nova senha" autocomplete="current-password" required
              pattern="^((?=.*[0-9])(?=.*[a-z])(?=.*([A-Z]|[ -\/:-@[-`{-~]))|(?=.*[A-Z])(?=.*[ -\/:-@[-`{-~])(?=.*([0-9]|[a-z])))[a-zA-Z0-9 -\/:-@[-`{-~]{8,}$">

      </div> -->

        <br />
        <div class="row">
          <div class="col-md-12">
            <div class="form-group">
              <button type="submit" value="Salvar"
                class="btn btn-primary float-right m-l-5 w-25">Enviar</button>
                <!-- [disabled]="!usuarioForm.valid" -->
              <input type="submit" value="Cancelar" [routerLink]="['/admin/usuarios']"
                class="btn btn-outline-dark float-right w-25" />


            </div>
          </div>
        </div>



      </form>


    </div>

  </div>



</body>
